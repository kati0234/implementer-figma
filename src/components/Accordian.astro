---
import AccordianItem from "./AccordianItem.astro";
---

<section class="accordion-container">
  <div class="content">
    <p class="p-bg">FAQ</p>
    <h3>Customer Questions</h3>
  </div>
  <ul>
    <AccordianItem
      question="What will happen when I’ve sent my application?"
      answer="Ippsum is the result of synergy between our teams and our customers. Our company culture is focused on excellent productivity, customer satisfaction, respect for team and individual achievements."
    />
    <AccordianItem
      question="Can I get a free trial before I purchase?"
      answer="Ippsum is the result of synergy between our teams and our customers. Our company culture is focused on excellent productivity, customer satisfaction, respect for team and individual achievements."
    />
    <AccordianItem
      question="What should I include in my personal statement?"
      answer="Ippsum is the result of synergy between our teams and our customers. Our company culture is focused on excellent productivity, customer satisfaction, respect for team and individual achievements."
    />
    <AccordianItem
      question="Will membership plans be charged automatically?"
      answer="Ippsum is the result of synergy between our teams and our customers. Our company culture is focused on excellent productivity, customer satisfaction, respect for team and individual achievements."
    />
    <AccordianItem
      question="What will happen when I’ve sent my application?"
      answer="Ippsum is the result of synergy between our teams and our customers. Our company culture is focused on excellent productivity, customer satisfaction, respect for team and individual achievements."
    />
    <AccordianItem
      question="Can I get a free trial before I purchase?"
      answer="Ippsum is the result of synergy between our teams and our customers. Our company culture is focused on excellent productivity, customer satisfaction, respect for team and individual achievements."
    />
  </ul>
</section>

<style>
  .content {
    display: flex;
    flex-direction: column;
    gap: 1.375rem;

    align-items: center;
  }
  .p-bg {
    color: var(--white-2);
    background-color: var(--green);
    text-align: center;
  }
  section {
    padding-block: 3rem;
    background: #f5f5f5;
    border-radius: 1.875rem;
  }

  ul {
    list-style: none;
    padding: 1rlh;
    max-width: 725px;
    margin-inline: auto;
  }
</style>

<script>
  // @ts-nocheck
  const accordionWrappers = document.querySelectorAll(".accordion-container");

  accordionWrappers.forEach((accordionWrapper) => {
    accordionWrapper.addEventListener("click", (event) => {
      const button = event.target;
      const article = button.closest("article");
      const exclusive = accordionWrapper.dataset.exclusive;

      if (!article || button.tagName.toLowerCase() !== "button") {
        return;
      }

      const expanded = button.getAttribute("aria-expanded") === "true" || false;

      if (exclusive === "true") {
        const currentExpanded = accordionWrapper.querySelector(
          '[aria-expanded="true"]'
        );

        if (currentExpanded && currentExpanded !== button) {
          currentExpanded.setAttribute("aria-expanded", "false");
        }
      }

      button.setAttribute("aria-expanded", !expanded);
    });
  });
</script>
